angular	.module('app.routes', ['ui.router'])	.run(function ($rootScope, $state, $stateParams) {		$rootScope.$state = $state;		$rootScope.$stateParams = $stateParams;	})	.config(routes);function routes($stateProvider, $urlRouterProvider) {	$urlRouterProvider.otherwise('/');	$stateProvider		.state('root', {			url: '/',			templateUrl: 'sections/search/search.tpl.html',			controller: 'SearchController',			controllerAs: 'search',			resolve: {				data: function(StorageService) {					if (StorageService.getHistory() !== false) {						return StorageService.getHistory();					} else {						return false;					}				},				dataLast: function(StorageService) {					if (StorageService.getLastCall() !== false) {						return StorageService.getLastCall();					} else {						return false;					}				},				dataLastPage: function(StorageService) {					if (StorageService.getLastPage() !== false) {						return StorageService.getLastPage();					} else {						return false;					}				}			}		})		.state('history', {			url: '/history',			templateUrl: 'sections/history/history.tpl.html',			controller: 'HistoryController',			controllerAs: 'history',		})		.state('track', {			url: '/track/:id',			templateUrl: 'sections/track/track.tpl.html',			controller: 'TrackController',			controllerAs: 'track',			resolve: {				data: function(StorageService, $stateParams) {					return StorageService.getTrack($stateParams.id).then(function(response) {						return response;					});				}			}		})	;}